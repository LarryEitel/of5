"use strict";angular.module("of5App",["restangular"]).constant("XCHGLAB_CONFIG",{API_KEY:"testkey"}).config(["$routeProvider",function(t){t.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/plcs",{templateUrl:"views/plcs.html",controller:"PlcsCtrl"}).when("/plc/:id/edit",{templateUrl:"views/plc-edit.html",controller:"PlcEditCtrl"}).when("/plc/:id",{templateUrl:"views/plc-view.html",controller:"PlcViewCtrl"}).otherwise({redirectTo:"/"})}]).config(["RestangularProvider",function(t){t.setBaseUrl("http://exi.xchg.com/api"),t.setListTypeIsArray(!1),t.setResponseExtractor(function(t,e){return"get"===e?t:"getList"===e?t:void 0})}]),angular.module("of5App").controller("MainCtrl",["$scope","Restangular",function(t,e){var r=e.all("plcs");t.plcs=r.getList()}]),angular.module("of5App").controller("PlcEditCtrl",["$scope","$location","$routeParams","Restangular",function(t,e,r,l){var n=l.one("plcs",r.id);n.get({single:!0}).then(function(e){t.item=e,t.lat=e.pts[0],t.lng=e.pts[1]},function(){console.log("Oops error from server :(")}),t.abandonChanges=function(){return e.path("/plc/"+t.item._id)}}]).controller("PlcsCtrl",["$scope","$location","$routeParams","Restangular",function(t,e,r,l){var n=l.all("plcs");n.getList({where:JSON.stringify({}),max_results:10}).then(function(e){t.items=e._items},function(){console.log("Oops error from server :(")}),t.edit=function(t){return e.path("/plc/"+t._id+"/edit")},t.view=function(t){return e.path("/plc/"+t._id)}}]).controller("PlcViewCtrl",["$scope","$routeParams","Restangular",function(t,e,r){var l=r.one("plcs",e.id);l.get({single:!0}).then(function(e){t.item=e},function(){console.log("Oops error from server :(")})}]);