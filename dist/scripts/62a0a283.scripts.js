"use strict";angular.module("of5App",["restangular"]).constant("XCHGLAB_CONFIG",{API_KEY:"testkey"}).config(["$routeProvider",function(e){e.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/plcs",{templateUrl:"views/plcs.html",controller:"PlcsCtrl"}).when("/plc/:id/edit",{templateUrl:"views/plc-edit.html",controller:"PlcEditCtrl"}).when("/plc/:id/delete",{templateUrl:"views/plc-delete.html",controller:"PlcDeleteCtrl"}).when("/plc/:id",{templateUrl:"views/plc-view.html",controller:"PlcViewCtrl"}).otherwise({redirectTo:"/"})}]).config(["$httpProvider",function(e){e.defaults.headers.common.Authorization="Basic admin@orgtec.com:xxxxxx"}]).config(["RestangularProvider",function(e){e.setBaseUrl("http://exi.xchg.com/api"),e.setListTypeIsArray(!1),e.setResponseExtractor(function(e,t){return"get"===t?e:"getList"===t?e:void 0})}]),angular.module("of5App").controller("MainCtrl",["$scope","Restangular",function(e,t){var r=t.all("plcs");e.plcs=r.getList()}]),angular.module("of5App").controller("PlcDeleteCtrl",["$scope","$location","$routeParams","Restangular",function(e,t,r,o){console.log(r.id);var l=o.one("plcs",r.id);l.remove().then(function(){return console.log("Removed"),t.path("/plcs")},function(){return console.log("Oops error from server :("),t.path("/plc/"+r.id)})}]).controller("PlcEditCtrl",["$scope","$location","$routeParams","Restangular",function(e,t,r,o){var l=o.one("plcs",r.id);l.get({single:!0}).then(function(t){e.item=t,e.lat=t.pts[0],e.lng=t.pts[1]},function(){console.log("Oops error from server :(")}),e.remove=function(e){return t.path("/plc/"+e._id+"/delete")},e.abandonChanges=function(){return t.path("/plc/"+e.item._id)}}]).controller("PlcsCtrl",["$scope","$location","$routeParams","Restangular",function(e,t,r,o){var l=o.all("plcs");l.getList({where:JSON.stringify({}),max_results:10}).then(function(t){e.items=t._items},function(){console.log("Oops error from server :(")}),e.remove=function(e){return t.path("/plc/"+e._id+"/delete")},e.edit=function(e){return t.path("/plc/"+e._id+"/edit")},e.view=function(e){return t.path("/plc/"+e._id)}}]).controller("PlcViewCtrl",["$scope","$location","$routeParams","Restangular",function(e,t,r,o){var l=o.one("plcs",r.id);l.get().then(function(t){e.item=t,e.lat=t.pts[0],e.lng=t.pts[1]},function(){console.log("Oops error from server :(")}),e.remove=function(e){return t.path("/plc/"+e._id+"/delete")}}]);